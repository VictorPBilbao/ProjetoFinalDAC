<main class="deposit-main">
  <div class="page-header">
    <h1>Depósito</h1>
    <span class="last-access">Último acesso: {{ (lastAccess$ | async) | date:'dd/MM/yyyy HH:mm:ss' }}</span>
  </div>

  <section class="content-grid">
    <div class="main-content">
      <section class="card account-info" *ngIf="cliente$ | async as cliente">
        <h2>Informações da Conta</h2>
  <div class="info-row"><span>Agência</span><strong>{{ cliente.agencia }}</strong></div>
  <div class="info-row"><span>Conta Corrente</span><strong>{{ cliente.conta }}</strong></div>
        <div class="balances">
          <div class="balance-item">
            <span>Saldo</span>
            <strong [class.negative]="cliente.saldo < 0" [class.positive]="cliente.saldo >= 0">{{ cliente.saldo | currency:'BRL':'symbol':'1.2-2' }}</strong>
          </div>
          <div class="balance-item">
            <span>Limite</span>
            <strong class="positive">{{ cliente.limite | currency:'BRL':'symbol':'1.2-2' }}</strong>
          </div>
        </div>
      </section>

      <section class="card deposit-form">
        <h2>Realizar Depósito</h2>
        <form [formGroup]="form" (ngSubmit)="submit()">
          <div class="form-grid">
            <div class="form-group">
              <label for="agencia">Agência</label>
              <input id="agencia" type="text" formControlName="agencia" />
            </div>
            <div class="form-group">
              <label for="conta">Conta Corrente</label>
              <input id="conta" type="text" formControlName="conta" />
            </div>
            <div class="form-group">
              <label for="valor">Valor</label>
              <input id="valor" type="number" formControlName="valor" placeholder="0,00" />
            </div>
          </div>
          <div class="actions">
            <button type="submit" class="btn-primary" [disabled]="form.invalid">Continuar</button>
            <button type="button" class="btn-outline" (click)="resetForm()">Limpar</button>
          </div>
          <p *ngIf="message" [class.msg-success]="message.type==='success'" [class.msg-error]="message.type==='error'">{{ message.text }}</p>
        </form>
      </section>
    </div>
  </section>
</main>
